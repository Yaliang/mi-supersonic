<!DOCTYPE html> 
<html>
<head>
	<meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1 user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <meta name="mobile-web-app-capable" content="yes">
    <title>觅校缘</title>
    <link rel="icon" sizes="192x192" href="./content/material-design/png/m-192.png">
    <link rel="apple-touch-icon" href="./content/material-design/png/m-192.png">
    <link href='http://fonts.googleapis.com/css?family=Open+Sans:400,300' rel='stylesheet' type='text/css'>
	<link rel="stylesheet" href="./script/jquery/mobile/jquery.mobile-1.4.5.min.css" />
	<link rel="stylesheet" href="index.css" />
	<script src="./script/jquery/jquery-1.11.1.min.js"></script>
	<script src="./script/jquery/mobile/jquery.mobile-1.4.5.min.js"></script>
	<script src="./script/parse/parse-1.3.2.min.js"></script>
	<script src="./script/parse/query.js"></script>
	<script src="./script/canvas2image/canvas2image.js"></script>
	<script src="./script/functions.js"></script>
</head>

<body>
	<!-- Page for signup -->
	<div data-role="page" id="page-signup" data-title="觅校缘">

		<div data-role="header">
			<h1>Geolocation</h1>
		</div><!-- header -->

		<div role="main" class="ui-content">
			<p id="geolocation"></p>
			<button class="ui-btn" onclick="getLocation();">Start Tracking</button>
		</div><!-- /content -->

		<div data-role="footer" data-position="fixed" data-tap-toggle="false">
		</div><!-- /footer -->
	</div><!-- /page -->

	<script type="text/javascript">

	function getLocation(){
		if (navigator.geolocation){
			navigator.geolocation.watchPosition(showPosition,showError);
		} else {
			$("#geolocation").html("Geolocation is not supported by this browser.");
		}
	}

	function showPosition(position){
		$("#geolocation").html("Latitude: " + position.coords.latitude + "<br />Longitude: " + position.coords.longitude);
	}

	function showError(error){
		switch(error.code) {
			case error.PERMISSION_DENIED:
			$("#geolocation").html("User denied the request for Geolocation.");
			break;
			case error.POSITION_UNAVAILABLE:
			$("#geolocation").html("Location information is unavailable.");
			break;
			case error.TIMEOUT:
			$("#geolocation").html("The request to get user location timed out.");
			break;
			case error.UNKNOWN_ERROR:
			$("#geolocation").html("An unknown error occurred.");
			break;
		}
	}

    </script>
</body>
</html>